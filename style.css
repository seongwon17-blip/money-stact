/* ══════════════════════════════════════════
   닥터팔레트 매출·수납 차이 분석기 — style.css
══════════════════════════════════════════ */

/* ── 변수 ── */
:root {
  --navy:    #0D1F3C;
  --blue:    #1A56DB;
  --blue-l:  #EBF5FF;
  --blue-m:  #3F83F8;
  --red:     #E02424;
  --red-l:   #FDF2F2;
  --red-m:   #F05252;
  --grn:     #057A55;
  --grn-l:   #F3FAF7;
  --grn-m:   #31C48D;
  --org:     #B45309;
  --org-l:   #FFFBEB;
  --org-m:   #F59E0B;
  --pur:     #6C2BD9;
  --pur-l:   #F5F3FF;
  --bg:      #F1F5F9;
  --card:    #FFFFFF;
  --border:  #E2E8F0;
  --text:    #1E293B;
  --muted:   #64748B;
  --mono:    'JetBrains Mono', 'Courier New', monospace;
  --sans:    'Noto Sans KR', sans-serif;
  --radius:  12px;
  --shadow:  0 1px 4px rgba(0,0,0,.07);
}

/* ── 리셋 ── */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--sans);
  background: var(--bg);
  color: var(--text);
  font-size: 14px;
  line-height: 1.5;
  min-height: 100vh;
}

/* ── 헤더 ── */
.header {
  position: sticky;
  top: 0;
  z-index: 100;
  background: var(--navy);
  height: 58px;
  display: flex;
  align-items: center;
  padding: 0 28px;
  gap: 12px;
  box-shadow: 0 2px 12px rgba(0,0,0,.25);
}
.header__icon {
  width: 32px; height: 32px;
  background: var(--blue);
  border-radius: 8px;
  display: grid;
  place-items: center;
  font-size: 16px;
  flex-shrink: 0;
}
.header__title { color: #fff; font-size: 16px; font-weight: 800; }
.header__sub   { color: #94A3B8; font-size: 12px; }
.header__badge {
  margin-left: auto;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.12);
  color: #94A3B8;
  font-size: 11px;
  padding: 3px 10px;
  border-radius: 20px;
  font-weight: 500;
}

/* ── 본문 ── */
.main {
  max-width: 1060px;
  margin: 0 auto;
  padding: 36px 20px 80px;
}

/* ── 안내 배너 ── */
.guide {
  background: var(--navy);
  border-radius: var(--radius);
  padding: 20px 24px;
  margin-bottom: 24px;
  display: flex;
  align-items: flex-start;
  gap: 14px;
}
.guide__icon { font-size: 22px; flex-shrink: 0; margin-top: 1px; }
.guide__title { font-size: 15px; font-weight: 800; color: #fff; margin-bottom: 4px; }
.guide__desc  { font-size: 12px; color: #94A3B8; line-height: 1.7; }
.guide__desc b { color: #60A5FA; }

/* 개인정보 보안 안내 */
.privacy-note {
  background: var(--grn-l);
  border: 1px solid var(--grn-m);
  border-radius: 8px;
  padding: 10px 16px;
  font-size: 12px;
  color: var(--grn);
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 24px;
}
.privacy-note strong { font-weight: 700; }

/* ── 업로드 ── */
.upload-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-bottom: 22px;
}
.upload-box {
  background: var(--card);
  border: 2px dashed var(--border);
  border-radius: var(--radius);
  padding: 28px 20px 22px;
  text-align: center;
  cursor: pointer;
  transition: border-color .18s, background .18s, transform .12s;
  position: relative;
}
.upload-box:hover {
  border-color: var(--blue-m);
  background: var(--blue-l);
}
.upload-box.over {
  border-color: var(--blue);
  background: var(--blue-l);
  transform: scale(1.01);
}
.upload-box.ok-sales {
  border: 2px solid var(--grn-m);
  background: var(--grn-l);
}
.upload-box.ok-col {
  border: 2px solid var(--blue-m);
  background: var(--blue-l);
}
.upload-box__icon { font-size: 32px; margin-bottom: 10px; }
.upload-box__name { font-size: 15px; font-weight: 800; margin-bottom: 4px; }
.upload-box__hint { font-size: 12px; color: var(--muted); line-height: 1.6; }
.upload-box__tag {
  display: none;
  font-size: 12px; font-weight: 700;
  margin-top: 12px;
  padding: 4px 14px;
  border-radius: 20px;
}
.ok-sales .upload-box__tag { display: inline-block; background: rgba(5,122,85,.12); color: var(--grn); }
.ok-col   .upload-box__tag { display: inline-block; background: rgba(26,86,219,.1);  color: var(--blue); }
input[type="file"] { display: none; }

/* ── 버튼 ── */
.run-wrap { text-align: center; margin-bottom: 32px; }
.btn-run {
  background: var(--blue);
  color: #fff;
  border: none;
  padding: 13px 42px;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 800;
  font-family: var(--sans);
  cursor: pointer;
  transition: background .15s, transform .12s, box-shadow .15s;
  box-shadow: 0 4px 14px rgba(26,86,219,.35);
}
.btn-run:hover:not(:disabled) {
  background: var(--blue-m);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(26,86,219,.4);
}
.btn-run:active:not(:disabled) { transform: translateY(0); }
.btn-run:disabled { background: #94A3B8; box-shadow: none; cursor: not-allowed; }

/* ── 에러 / 로딩 ── */
.error-box {
  display: none;
  background: var(--red-l);
  border: 1px solid var(--red-m);
  color: var(--red);
  border-radius: 10px;
  padding: 13px 18px;
  margin-bottom: 18px;
  font-size: 13px;
  font-weight: 500;
}
.loading {
  display: none;
  text-align: center;
  padding: 48px;
  color: var(--muted);
  font-size: 14px;
}
.spinner {
  width: 32px; height: 32px;
  border: 3px solid var(--border);
  border-top-color: var(--blue);
  border-radius: 50%;
  animation: spin .65s linear infinite;
  margin: 0 auto 12px;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ── 결과 영역 ── */
#result { display: none; }

/* 요약 박스 */
.sum-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 12px;
  margin-bottom: 26px;
}
.sum-box {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px 18px;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow);
}
.sum-box::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  border-radius: var(--radius) var(--radius) 0 0;
}
.sum-box.c-col::before  { background: var(--blue); }
.sum-box.c-sale::before { background: var(--grn); }
.sum-box.c-neg::before  { background: var(--red); }
.sum-box.c-pos::before  { background: var(--grn); }
.sum-box.c-zero::before { background: var(--muted); }

.sum-box__icon  { position: absolute; top: 14px; right: 14px; font-size: 22px; opacity: .45; }
.sum-box__label { font-size: 11px; font-weight: 700; color: var(--muted); letter-spacing: .4px; text-transform: uppercase; margin-bottom: 10px; }
.sum-box__amt   { font-size: 20px; font-weight: 900; font-family: var(--mono); letter-spacing: -1px; line-height: 1.2; }
.sum-box__sub   { font-size: 11px; color: var(--muted); margin-top: 6px; }

.c-col  .sum-box__amt { color: var(--blue); }
.c-sale .sum-box__amt { color: var(--grn); }
.c-neg  .sum-box__amt { color: var(--red); }
.c-pos  .sum-box__amt { color: var(--grn); }
.c-zero .sum-box__amt { color: var(--muted); }

/* 섹션 헤더 */
.sec-head {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
  font-weight: 800;
  color: var(--navy);
  margin: 28px 0 13px;
}
.sec-head::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border);
}

/* ── 원인 아코디언 ── */
.cause-list { display: flex; flex-direction: column; gap: 10px; }

.cause-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}
.cause-card__head {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 15px 18px;
  cursor: pointer;
  user-select: none;
  transition: background .12s;
  border-left: 4px solid transparent;
}
.cause-card__head:hover { background: #FAFBFC; }

.cause-card__tag {
  font-size: 10px; font-weight: 800;
  letter-spacing: .5px;
  padding: 3px 9px;
  border-radius: 20px;
  flex-shrink: 0;
  white-space: nowrap;
}
.cause-card__info { flex: 1; min-width: 0; }
.cause-card__title { font-size: 14px; font-weight: 700; }
.cause-card__desc  { font-size: 12px; color: var(--muted); margin-top: 2px; }
.cause-card__amt   { font-size: 16px; font-weight: 900; font-family: var(--mono); flex-shrink: 0; }
.cause-card__arr   { color: var(--muted); font-size: 12px; transition: transform .2s; flex-shrink: 0; }
.cause-card.open .cause-card__arr { transform: rotate(180deg); }

/* 타입별 색상 */
.t-a .cause-card__head { border-left-color: var(--red-m); }
.t-a .cause-card__tag  { background: var(--red-l); color: var(--red); }
.t-a .cause-card__title{ color: var(--red); }
.t-a .cause-card__amt  { color: var(--red); }

.t-b .cause-card__head { border-left-color: var(--blue-m); }
.t-b .cause-card__tag  { background: var(--blue-l); color: var(--blue); }
.t-b .cause-card__title{ color: var(--blue); }
.t-b .cause-card__amt  { color: var(--blue); }

.t-c .cause-card__head { border-left-color: var(--org-m); }
.t-c .cause-card__tag  { background: var(--org-l); color: var(--org); }
.t-c .cause-card__title{ color: var(--org); }
.t-c .cause-card__amt  { color: var(--org); }

.t-d .cause-card__head { border-left-color: #9061F9; }
.t-d .cause-card__tag  { background: var(--pur-l); color: var(--pur); }
.t-d .cause-card__title{ color: var(--pur); }
.t-d .cause-card__amt  { color: var(--pur); }

/* 본문 */
.cause-card__body {
  display: none;
  padding: 0 18px 18px;
  border-top: 1px solid var(--border);
}
.cause-card.open .cause-card__body { display: block; }

.tip-box {
  font-size: 12px;
  line-height: 1.75;
  padding: 12px 14px;
  border-radius: 8px;
  margin: 14px 0 12px;
  border-left: 3px solid;
}
.t-a .tip-box { background: var(--red-l);  color: var(--red);  border-color: var(--red-m); }
.t-b .tip-box { background: var(--blue-l); color: var(--blue); border-color: var(--blue-m); }
.t-c .tip-box { background: var(--org-l);  color: var(--org);  border-color: var(--org-m); }
.t-d .tip-box { background: var(--pur-l);  color: var(--pur);  border-color: #9061F9; }

/* ── 테이블 ── */
.tbl-wrap {
  overflow-x: auto;
  border-radius: 8px;
  border: 1px solid var(--border);
}
table  { width: 100%; border-collapse: collapse; font-size: 12px; }
thead tr { background: var(--navy); }
thead th {
  padding: 9px 12px;
  color: #CBD5E1;
  font-weight: 600;
  font-size: 11px;
  text-align: center;
  white-space: nowrap;
}
tbody tr { border-bottom: 1px solid var(--border); transition: background .1s; }
tbody tr:last-child { border-bottom: none; }
tbody tr:hover { background: #F8FAFC; }
tbody td {
  padding: 9px 12px;
  text-align: center;
  white-space: nowrap;
  font-size: 12px;
}
tfoot td {
  padding: 10px 12px;
  background: #F1F5F9;
  font-weight: 800;
  font-family: var(--mono);
  font-size: 12px;
  text-align: center;
}
.n-neg { color: var(--red);   font-weight: 700; font-family: var(--mono); }
.n-pos { color: var(--grn);   font-weight: 700; font-family: var(--mono); }
.n-org { color: var(--org);   font-weight: 700; font-family: var(--mono); }
.n-pur { color: var(--pur);   font-weight: 700; font-family: var(--mono); }
.n-neu { color: var(--text);  font-weight: 600; font-family: var(--mono); }
.n-mut { color: var(--muted); font-size: 11px; }

.pill {
  display: inline-block;
  padding: 2px 7px;
  border-radius: 20px;
  font-size: 10px;
  font-weight: 700;
}
.pill-pre { background: var(--org-l); color: var(--org); }
.pill-mis { background: var(--red-l); color: var(--red); }

/* ── 검증식 ── */
.verify-box {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px 24px;
  box-shadow: var(--shadow);
  margin-bottom: 28px;
}
.vrow {
  display: flex;
  align-items: center;
  padding: 9px 0;
  border-bottom: 1px dashed var(--border);
  font-size: 13px;
  gap: 12px;
}
.vrow:last-child {
  border-bottom: none;
  background: var(--grn-l);
  border-radius: 8px;
  padding: 11px 14px;
  margin-top: 8px;
  font-weight: 800;
}
.vrow:last-child .vl { color: var(--grn); font-weight: 800; }
.vl { flex: 1; color: var(--muted); }
.vv { font-family: var(--mono); font-weight: 700; font-size: 13px; white-space: nowrap; }

/* ── 차이없음 ── */
.no-diff {
  text-align: center;
  padding: 44px;
  background: var(--grn-l);
  border-radius: var(--radius);
  border: 1px solid var(--grn-m);
  color: var(--grn);
  font-weight: 800;
  font-size: 15px;
}

/* ── 반응형 ── */
@media (max-width: 680px) {
  .upload-grid { grid-template-columns: 1fr; }
  .sum-row     { grid-template-columns: 1fr; }
  .main        { padding: 20px 14px 60px; }
  .header      { padding: 0 16px; }
  .header__badge { display: none; }
}
